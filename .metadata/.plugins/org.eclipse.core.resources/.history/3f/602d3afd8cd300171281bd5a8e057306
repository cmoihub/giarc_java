package problemTests;

import static org.junit.Assert.*;

import java.util.ArrayList;

import org.junit.Before;
import org.junit.Test;

import Problem.GeneralExample;
import feature.BaseFeature;
import feature.NumberFeature;
import feature.StringFeature;

public class KNNTest {

	@Before
	public void setUp() throws Exception {
	}

	@Test
	public void test() {
		ArrayList<BaseFeature> features = new ArrayList<BaseFeature>();
		ArrayList<BaseFeature> features1 = new ArrayList<BaseFeature>();
	
		ArrayList<BaseFeature> featuresTest = new ArrayList<BaseFeature>();
	
		features.add(new NumberFeature(1.9));features.add(new NumberFeature(-167));
		features.add(new NumberFeature(63.8));features.add(null);
		features.add(new NumberFeature(39.1));features.add(new StringFeature("kick"));
		
		featuresTest.add(new NumberFeature(5));featuresTest.add(new NumberFeature(-200));
		featuresTest.add(new NumberFeature(70));featuresTest.add(null);
		featuresTest.add(new NumberFeature(86));featuresTest.add(new StringFeature("kick"));
		
		features1.add(new NumberFeature(1.8));features1.add(new NumberFeature(-177));
		features1.add(new NumberFeature(63));features1.add(null);
		features1.add(new NumberFeature(38.1));features1.add(new StringFeature("kick"));
		
		GeneralExample train0 = new GeneralExample(features1);
		GeneralExample train1 =  new GeneralExample(features);
		
		GeneralExample testExample =  new GeneralExample(featuresTest);
	
		
		ArrayList<GeneralExample> trainingExamples = new ArrayList<GeneralExample>();
		trainingExamples.add(train1);trainingExamples.add(train0);
		
		KNN knn = new KNN();
		ArrayList<GeneralExample> nearestN = (ArrayList<GeneralExample>) knn.getNearestNeighbours(1, trainingExamples, testExample);
		
		for(GeneralExample e: nearestN) {
			for(BaseFeature f: e.getFeatures()) {
				if(f instanceof StringFeature)
					System.out.print(((StringFeature)f).getValue()+" ");
				else if(f instanceof NumberFeature)
					System.out.print(((NumberFeature)f).getValue()+" ");
				
				else
					System.out.print(f+" ");
			}
			System.out.println();
	
		}
	}

}
