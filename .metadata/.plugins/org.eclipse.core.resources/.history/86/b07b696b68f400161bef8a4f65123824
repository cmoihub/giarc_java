package lab2;

import java.io.*; 
import java.util.*;

public class mySystem {
	private final int MAX_DEPARTURES = 100000;
	
	private Server server;
	private ArrayList<Event> eventList; 
	private double clock;

	public mySystem() {
		this.server = new Server(); 
		this.eventList = new ArrayList<Event>(); 
		this.clock = 0;
		}
	
	public void run(){
		initialize();
		// while there is a next event
		while(!eventList.isEmpty()){  
			// take the first "future event"
			Event e = eventList.get(0);
			// take the first future event 
			// progress clock
			clock = e.getTime();
		/* more code to be added here */
			if(e.getType().equals("arrival")){ // if the event is an
				qSize++;
				
				//if server is idle
				if(!server.isBusy()){  
					//set server busy
					server.setBusy(true);  
					// create new departure event
					Event ev = new Event("departure",server.getServiceTime()+clock);  
					int pos=-1;
			}
		}
	}
}